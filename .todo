[X] make state charbuf its own commandline parsing struct
[X] Migrate panel and draw to use windows/screens (dubious now)
[X] escape key exits from any mode to NAV
[X] decide on state manager handling all update vs action model
[X] main.c L55  def an appropriate length
[X] main.c L53  this is ridiculous as written here
[X] UI: terrain mode panel resize/reshape?
[X] main.c L127 remove the jank, make it reference a geometry
[X] main.c L121 remove magic numbers and have a geometry_initialise that takes a screen
[X] 'soft'/oneshot vs 'hard'/locked input mode (like 't' vs 'T' for terrain entry)
[X] UI: input mode indicator in bottom
[X] UX: change controls for terrain input
[X] Implement tundra terrain
[ ] UX: reticule changes colour based on input mode
[ ] UX different brush sizes
[ ] UX remember last placed terrain
[ ] UX drag-paint doesn't update last placed terrain?
[ ] update splash (should only load when no filename passed as cmdline option)
[ ] grid.c L81  separate struct Tile containing all terrain-like data, for nullability
[ ] grid.c L411 a map-native implementation of map_insert
[ ] grid.c L440 a map-natrve implementation of map_create_neighbours
[ ] add state mode colour and other ui info into the ui struct
[ ] unknown terrain only drawn in terrain painting mode
